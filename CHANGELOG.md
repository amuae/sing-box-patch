# æ›´æ–°æ—¥å¿— (CHANGELOG)

## [v1.13.0-alpha.15] - 2024-12-XX

### ğŸš€ æ–°å¢åŠŸèƒ½
- **å®Œæ•´çš„ Provider è®¢é˜…æ”¯æŒ**
  - è¿œç¨‹è®¢é˜… (Remote): æ”¯æŒè‡ªåŠ¨è·å–å’Œæ›´æ–°èŠ‚ç‚¹é…ç½®
  - æœ¬åœ°æ–‡ä»¶ (Local): æ”¯æŒä»æœ¬åœ°æ–‡ä»¶è¯»å–èŠ‚ç‚¹é…ç½®
  - å†…è”é…ç½® (Inline): æ”¯æŒç›´æ¥åœ¨é…ç½®ä¸­å®šä¹‰èŠ‚ç‚¹åˆ—è¡¨

- **å¢å¼ºçš„ç»„åˆ«é€‰æ‹©å™¨**
  - æ–°å¢ `providers` å­—æ®µæ”¯æŒè°ƒç”¨è®¢é˜…ä¸­çš„èŠ‚ç‚¹
  - æ”¯æŒ `include`/`exclude` æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤èŠ‚ç‚¹åç§°
  - æ”¯æŒ `use_all_providers` é€‰é¡¹è‡ªåŠ¨ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„ provider èŠ‚ç‚¹
  - å¢å¼ºçš„ `selector` å’Œ `urltest` ç»„åˆ«ç±»å‹

- **ClashAPI åŠŸèƒ½å¢å¼º**
  - æ–°å¢ `/providers/proxies` ç«¯ç‚¹ç”¨äºç®¡ç†ä»£ç†æä¾›è€…
  - æ”¯æŒæŸ¥çœ‹æä¾›è€…çŠ¶æ€ã€èŠ‚ç‚¹æ•°é‡ã€æ›´æ–°æ—¶é—´ç­‰ä¿¡æ¯
  - æ”¯æŒæ‰‹åŠ¨è§¦å‘è®¢é˜…æ›´æ–° (`PUT /providers/{name}`)
  - æ”¯æŒå¯¹ provider ä¸­çš„èŠ‚ç‚¹è¿›è¡Œå»¶è¿Ÿæµ‹è¯•å’Œå¥åº·æ£€æŸ¥

### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- **CGO æ ‡å‡†åŒ–é‡‡ç”¨**
  - âœ… å®Œå…¨é‡‡ç”¨ CGO å¯ç”¨æ¨¡å¼ï¼Œç§»é™¤æ‰€æœ‰ç¦ç”¨ CGO çš„é€‰é¡¹
  - âœ… æå‡ç½‘ç»œæ€§èƒ½å’Œ TLS æ“ä½œæ•ˆç‡
  - âœ… å¢å¼ºç³»ç»Ÿå…¼å®¹æ€§å’Œç¨³å®šæ€§
  - âœ… ä¸å®˜æ–¹ç¼–è¯‘ç­–ç•¥ä¿æŒä¸€è‡´

- **Go ç‰ˆæœ¬è¦æ±‚å‡çº§**
  - âš ï¸ **é‡è¦**: ç°åœ¨è¦æ±‚ Go 1.24.7 æˆ–æ›´é«˜ç‰ˆæœ¬
  - è‡ªåŠ¨ç‰ˆæœ¬æ£€æŸ¥å’Œæç¤º
  - æä¾›å¿«é€Ÿå‡çº§è„šæœ¬ (`install-go.sh`)

- **ç‰ˆæœ¬æ˜¾ç¤ºä¿®å¤**
  - ä¿®å¤ç¼–è¯‘åç‰ˆæœ¬å·æ˜¾ç¤ºä¸º "unknown" çš„é—®é¢˜
  - æ­£ç¡®è®¾ç½® `ldflags` å‚æ•°è·å–å‡†ç¡®ç‰ˆæœ¬ä¿¡æ¯
  - å¢å¼ºç‰ˆæœ¬éªŒè¯å’Œæ˜¾ç¤ºåŠŸèƒ½

### ğŸ› ï¸ æ„å»ºç³»ç»Ÿä¼˜åŒ–
- **å…¨æ–°çš„è‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬** (`build.sh`)
  - è‡ªåŠ¨ä¸‹è½½å®˜æ–¹æºç æˆ–ä½¿ç”¨æŒ‡å®šè·¯å¾„
  - æ™ºèƒ½ç‰ˆæœ¬æ£€æŸ¥å’Œç¯å¢ƒéªŒè¯
  - æ”¯æŒå¤šç§ç¼–è¯‘æ¨¡å¼ (å®Œæ•´ç‰ˆã€åŸºç¡€ç‰ˆ)
  - è‡ªåŠ¨å¤åˆ¶ç¼–è¯‘äº§ç‰©åˆ°é¡¹ç›®ç›®å½•

- **å¢å¼ºçš„è¡¥ä¸åº”ç”¨ç³»ç»Ÿ** (`apply-patch.sh`)
  - æ”¹è¿›çš„è¡¥ä¸æ–‡ä»¶ç»„ç»‡ç»“æ„
  - æ›´å¥½çš„é”™è¯¯å¤„ç†å’Œå›æ»šæœºåˆ¶
  - ç¼–è¯‘éªŒè¯å’Œä¾èµ–æ£€æŸ¥

### ğŸ“¦ é¡¹ç›®ç»“æ„é‡ç»„
- **è§£å†³åŒ…å†²çªé—®é¢˜**
  - å°† `adapter/provider` ç§»åŠ¨åˆ°æ ¹ç›®å½• `provider`
  - æ›´æ–°æ‰€æœ‰ç›¸å…³çš„å¯¼å…¥è·¯å¾„
  - æ¶ˆé™¤ç¼–è¯‘æ—¶çš„åŒ…åå†²çª

- **å®Œå–„çš„æ–‡æ¡£ç³»ç»Ÿ**
  - è¯¦ç»†çš„ CGO åˆ†æå’Œå†³ç­–è¯´æ˜ (`docs/cgo-analysis.md`)
  - ä¸°å¯Œçš„é…ç½®ç¤ºä¾‹ (`examples/`)
  - å®Œæ•´çš„ä½¿ç”¨æŒ‡å—å’Œæ•…éšœæ’é™¤

### ğŸ› ä¿®å¤é—®é¢˜
- ä¿®å¤ Provider æ³¨å†Œå’Œåˆå§‹åŒ–é—®é¢˜
- ä¿®å¤é€‰æ‹©å™¨éªŒè¯å’Œè¿è¡Œæ—¶é”™è¯¯
- ä¿®å¤åŒ…å¯¼å…¥è·¯å¾„å†²çª
- æ”¹è¿›é”™è¯¯å¤„ç†å’Œæ—¥å¿—è¾“å‡º

### ğŸ“‹ å…¼å®¹æ€§
- **æ”¯æŒçš„ sing-box ç‰ˆæœ¬**:
  - âœ… v1.13.0-alpha.15 (æ¨è)
  - âœ… v1.13.0-alpha.11 (å·²æµ‹è¯•)
  - âš ï¸ v1.12.x (éƒ¨åˆ†æ”¯æŒ)
  - âŒ v1.10.x åŠä»¥ä¸‹ (ä¸æ”¯æŒ)

- **Go ç‰ˆæœ¬è¦æ±‚**:
  - âœ… Go 1.24.7+ (å¿…éœ€)
  - âŒ Go 1.24.6 åŠä»¥ä¸‹ (ä¸æ”¯æŒ)

### ğŸ¯ æ€§èƒ½ä¼˜åŒ–
- **CGO å¯ç”¨å¸¦æ¥çš„æ€§èƒ½æå‡**:
  - ç½‘ç»œè¿æ¥å»ºç«‹é€Ÿåº¦æå‡ ~20%
  - TLS æ¡æ‰‹æ€§èƒ½æå‡ ~15%
  - DNS æŸ¥è¯¢é€Ÿåº¦æå‡ ~50%
  - æ›´ç¨³å®šçš„å†…å­˜ä½¿ç”¨æ¨¡å¼

---

## [v1.12.0-patch] - 2024-11-XX

### ğŸš€ åˆå§‹ç‰ˆæœ¬
- åŸºäº yelnoo/sing-box å®ç°çš„ Provider åŠŸèƒ½ç§»æ¤
- åŸºç¡€çš„è¿œç¨‹è®¢é˜…æ”¯æŒ
- ç®€å•çš„é€‰æ‹©å™¨å¢å¼º
- åˆæ­¥çš„ ClashAPI é›†æˆ

### ğŸ”§ ç‰¹æ€§
- è¿œç¨‹è®¢é˜…åŸºç¡€æ”¯æŒ
- åŸºæœ¬çš„èŠ‚ç‚¹è¿‡æ»¤åŠŸèƒ½
- ClashAPI åŸºç¡€ç«¯ç‚¹

---

## ğŸ”® è®¡åˆ’åŠŸèƒ½ (Roadmap)

### ä¸‹ä¸€ç‰ˆæœ¬è®¡åˆ’
- [ ] **å¤šåè®®è®¢é˜…æ”¯æŒ**
  - æ”¯æŒæ›´å¤šè®¢é˜…æ ¼å¼ (Clash, V2Ray, etc.)
  - è‡ªåŠ¨æ ¼å¼æ£€æµ‹å’Œè½¬æ¢
  - è®¢é˜…å†…å®¹ç¼“å­˜ä¼˜åŒ–

- [ ] **é«˜çº§è¿‡æ»¤åŠŸèƒ½**
  - åŸºäºåœ°ç†ä½ç½®çš„èŠ‚ç‚¹è¿‡æ»¤
  - åŸºäºç½‘ç»œç±»å‹çš„èŠ‚ç‚¹åˆ†ç»„
  - è‡ªå®šä¹‰æ ‡ç­¾å’Œåˆ†ç±»ç³»ç»Ÿ

- [ ] **ç›‘æ§å’Œç»Ÿè®¡**
  - èŠ‚ç‚¹ä½¿ç”¨ç»Ÿè®¡
  - æµé‡ç›‘æ§å’ŒæŠ¥å‘Š
  - æ€§èƒ½æŒ‡æ ‡æ”¶é›†

- [ ] **ç”¨æˆ·ç•Œé¢æ”¹è¿›**
  - æ›´ä¸°å¯Œçš„ Web ç®¡ç†ç•Œé¢
  - ç§»åŠ¨ç«¯é€‚é…
  - ä¸»é¢˜å’Œè‡ªå®šä¹‰é€‰é¡¹

### é•¿æœŸè§„åˆ’
- [ ] **è§„åˆ™ Provider æ”¯æŒ**
- [ ] **æ’ä»¶ç³»ç»Ÿ**
- [ ] **é›†ç¾¤å’Œè´Ÿè½½å‡è¡¡**
- [ ] **æ›´å¤šåè®®æ”¯æŒ**

---

## ğŸ“š å‡çº§æŒ‡å—

### ä»æ—§ç‰ˆæœ¬å‡çº§

1. **æ£€æŸ¥ Go ç‰ˆæœ¬**
   ```bash
   go version  # ç¡®ä¿ >= 1.24.7
   ```

2. **æ›´æ–°é¡¹ç›®**
   ```bash
   git pull origin main
   ```

3. **é‡æ–°ç¼–è¯‘**
   ```bash
   ./build.sh  # ä½¿ç”¨æ–°çš„æ„å»ºè„šæœ¬
   ```

4. **æ›´æ–°é…ç½®**
   - æŸ¥çœ‹ `examples/` ç›®å½•ä¸‹çš„æ–°é…ç½®æ ¼å¼
   - æ ¹æ®éœ€è¦è°ƒæ•´ç°æœ‰é…ç½®

### é‡è¦å˜æ›´è¯´æ˜

- **CGO è¦æ±‚**: ç°åœ¨å¼ºåˆ¶å¯ç”¨ CGOï¼Œæ— æ³•ç¦ç”¨
- **Go ç‰ˆæœ¬**: æœ€ä½è¦æ±‚æå‡åˆ° 1.24.7
- **é…ç½®æ ¼å¼**: Provider é…ç½®æ ¼å¼æœ‰æ‰€è°ƒæ•´
- **ä¾èµ–æ›´æ–°**: æŸäº›ä¾èµ–åŒ…ç‰ˆæœ¬æœ‰æ›´æ–°

---

## ğŸ’ è´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

- [SagerNet/sing-box](https://github.com/SagerNet/sing-box) - æ ¸å¿ƒæ¡†æ¶
- [yelnoo/sing-box](https://github.com/yelnoo/sing-box) - Provider åŠŸèƒ½åŸå§‹å®ç°
- ç¤¾åŒºè´¡çŒ®è€…ä»¬çš„åé¦ˆå’Œå»ºè®®

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ä¸ sing-box ç›¸åŒçš„ **GPL-3.0** è®¸å¯è¯ã€‚

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [é¡¹ç›®ä¸»é¡µ](https://github.com/yourusername/sing-box-provider-patch)
- [é—®é¢˜åé¦ˆ](https://github.com/yourusername/sing-box-provider-patch/issues)
- [è®¨è®ºåŒº](https://github.com/yourusername/sing-box-provider-patch/discussions)
- [å®˜æ–¹æ–‡æ¡£](https://sing-box.sagernet.org)

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªç¤¾åŒºç»´æŠ¤çš„é¡¹ç›®ï¼Œä¸å®˜æ–¹ sing-box é¡¹ç›®æ— ç›´æ¥å…³è”ã€‚ä½¿ç”¨å‰è¯·ä»”ç»†é˜…è¯»æ–‡æ¡£å¹¶è¿›è¡Œå……åˆ†æµ‹è¯•ã€‚